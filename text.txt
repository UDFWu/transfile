既然不是使用 LDAP，且錯誤訊息是 "Invalid username or password"，那問題通常集中在 HTPasswd（手動建立的帳號密碼檔）或 Keystone / Custom IDP 的設定上。

在沒有 LDAP 自動同步的情況下，最常見的原因是 「手動建立帳號時的名稱」與「群組中加入的名稱」不一致。

請依照以下步驟排查：

1. 檢查 HTPasswd 檔案（如果使用的是 HTPasswd）
大多數不接 LDAP 的 OCP 環境會使用 HTPasswd 類型來管理使用者。

名稱必須完全匹配： 帳號是在一個 Secret 中定義的。如果您在 Secret 裡建立的是 jason.wu，但登入時輸入 jason.wu@ibm.com.tw，就會失敗。

如何檢查：
找出 OAuth 使用的是哪個 Secret：

oc get oauth cluster -o yaml | grep htpasswdFieldName -A 5
導出該 Secret 並查看內容（需要 Base64 解碼）：

oc get secret <htpasswd-secret-name> -n openshift-config -o jsonpath='{.data.htpasswd}' | base64 -d
核對清單： 查看輸出的內容中，是否有 jason.wu@ibm.com.tw 這個字串？如果只有 jason.wu，那該人員就不能帶 Email 後綴登入。

2. 確認使用者輸入的「帳號」與 OCP 認定的「名稱」
在非 LDAP 環境下，OpenShift 對於帳號名稱非常敏感。請確認該使用者在登入框輸入的是：

jason.wu

jason.wu@ibm.com.tw

如果他在登入框輸入 A，但您在 oc adm groups add-users 加的是 B，就算密碼對了能登入，他也拿不到群組權限。但現在連登入都失敗，表示 IDP (HTPasswd) 裡根本沒有這個帳號。

3. 使用者是否根本還沒被「建立」？
在 OpenShift 中，「加入群組」不代表「建立帳號」。

oc adm groups add-users 只是在一個清單上記錄這個名字。

如果使用的是 HTPasswd，管理員必須先執行建立帳號的動作：

# 這是在本機產生密碼檔，並非直接在 OCP 建立
htpasswd -b users.htpasswd jason.wu@ibm.com.tw <password>

# 接著還要更新 OCP 的 Secret
oc create secret generic htpasswd-secret --from-file=htpasswd=users.htpasswd --dry-run=client -o yaml | oc replace -f -
請問管理員是否有執行過「建立帳號並更新 Secret」的動作？ 如果只是執行了 oc adm groups add-users，該使用者是無法登入的。

4. 檢查 OAuth Pod 的即時錯誤紀錄
這是找出真相最快的方法。請在使用者嘗試登入失敗時，同時觀察 log：

oc logs -n openshift-authentication -l app=oauth-openshift --tail=50
Log 中常見的提示：

Login failed: password mismatch: 帳號對了，但密碼錯了。

Login failed: user not found: 帳號名稱輸入錯誤，或 Secret 裡根本沒這個人。

建議下一步操作
您可以先確認：目前 OCP 是使用哪種方式管理帳號？（例如：HTPasswd, GitHub, 或 OpenID Connect）。

如果是 HTPasswd，請執行下述指令確認該使用者是否存在於系統認可的檔案中：

oc get secret -n openshift-config $(oc get oauth cluster -o jsonpath='{.spec.identityProviders[0].htpasswd.fileData.name}') -o jsonpath='{.data.htpasswd}' | base64 -d | grep jason.wu
如果查不到結果，表示帳號還沒在密碼檔裡建立。需要我提供建立 HTPasswd 帳號的完整流程嗎？