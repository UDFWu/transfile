stage('Checkmarx Scan') {
            environment {
                CX_URL = 'http://10.10.2.164'  // Checkmarx URL
                CX_CREDENTIALS_ID = 'checkmarx-credential-id'  // 你在 Jenkins 中設置的憑證 ID
            }
            steps {
                script {
                    withCredentials([usernamePassword(credentialsId: "${CX_CREDENTIALS_ID}", usernameVariable: 'CX_USER', passwordVariable: 'CX_PASSWORD')]) {
                        sh """
                        CxConsolePlugin.exe Scan -ProjectName "YourProject" \
                        -LocationType "Folder" -LocationPath "/path/to/your/source/code" \
                        -CxServer ${CX_URL} -CxUser ${CX_USER} -CxPass ${CX_PASSWORD} \
                        -ReportType "PDF" -ReportFile "/path/to/output/report.pdf"
                        """
                    }
                }
            }
        }