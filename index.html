<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Scsb CICD-form</title>
  <style>
    html {
      display: none;
    }
  </style>
  <script>
    (function() {
      var allowedDomains = ['http://10.10.32.10', 'http://localhost'];

      function sanitizeUrl(url) {
        var sanitized = url.trim().toLowerCase();
        return allowedDomains.find(domain => sanitized.startsWith(domain)) || '';
      }

      function checkAndRedirect() {
        if (self === top) {
          document.documentElement.style.display = 'block';
        } else {
          var currentLocation = sanitizeUrl(self.location.href);
          
          if (currentLocation) {
            top.location.href = currentLocation;
          } else {
            top.location.href = allowedDomains[1]; // 預設重定向到安全頁面
          }
        }
      }

      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', checkAndRedirect);
      } else {
        checkAndRedirect();
      }
    })();
  </script>
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; frame-ancestors 'self'">
  <meta http-equiv="X-Frame-Options" content="SAMEORIGIN">
</head>

<body class="bg-body-tertiary mat-typography">
  <noscript>
    <meta http-equiv="refresh" content="0; url=http://localhost/noscript">
  </noscript>
  <app-root></app-root>
</body>

</html>